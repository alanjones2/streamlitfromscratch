<h1
id="streamlit-from-scratch-build-a-dashboard-with-streamlits-layout-and-ui-features">Streamlit
from Scratch: Build a Dashboard with Streamlit’s Layout and UI
features</h1>
<h2
id="streamlit-has-simple-but-effective-components-for-user-interaction-and-layout-which-let-us-build-effective-and-attractive-dashboard-applications">Streamlit
has simple but effective components for user interaction and layout
which let us build effective and attractive dashboard applications</h2>
<p>TK image</p>
<p>We are going to explore some of the layout and user interface
features of Streamlit so as to create a simple but effective dashboard
app. In previous articles in this series, we have seen how to present
text, media and data, now we use this knowledge and add layout and user
interface components to create a complete application.</p>
<p>TK image of app</p>
<p>Streamlit tries to make life simple for the app developer and so does
not have the vast number of UI options that are available in other
technologies such as HTML and Javascript UI libraries. But using its
layout components you can easily design an attractive and capable web
page.</p>
<p>A Streamlit app is constructed with various container elements and
user interface components such as a slider and select boxes, and we will
look a a few of them.</p>
<p>But first we need some data to work with.</p>
<p>The code below gets four data files from my Github repository <a
href="https://github.com/alanjones2/CO2">CO2</a>. They contain data on
world-wide carbon dioxide emissions over the last couple of hundred
years. The original data comes from Our World in Data[1] and I have
simply broken that down into four different subsets. The first contains
data for each country in the world, the second breaks it down by
continent, the third is for the whole world and the last one represents
groups of countries by income type.</p>
<p>I’ve also included all of the libraries that we will use in this
article.</p>
<h2 id="fetch-the-data-and-cache-it">Fetch the data and cache it</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> streamlit <span class="im">as</span> st</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">@st.cache</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_countries_data(): </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&quot;https://github.com/alanjones2/CO2/raw/master/data/countries_df.csv&quot;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(url)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">@st.cache</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_continent_data():</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&#39;https://github.com/alanjones2/CO2/raw/master/data/continents_df.csv&#39;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(url)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">@st.cache</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_world_data():</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&#39;https://github.com/alanjones2/CO2/raw/master/data/world_df.csv&#39;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(url)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">@st.cache</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_group_data():</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&#39;https://github.com/alanjones2/CO2/raw/master/data/income_types_df.csv&#39;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(url)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>df_countries<span class="op">=</span> get_countries_data()</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>df_continents<span class="op">=</span> get_continent_data()</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>df_world <span class="op">=</span> get_world_data()</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>df_groups <span class="op">=</span> get_group_data()</span></code></pre></div>
<p>You may wonder why I’ve written functions to download and create a
dataframe for each of the files. There is a reason for this and this is
indicated by the Python decorator <code>@st.cache</code>.</p>
<p>Whenever the user interacts with a Streamlit app, to enter a value,
or change a setting, for example, the entire Streamlit app is re-run
from the beginning. This may appear to be inefficient but it is the way
that Streamlit works and doesn’t normally impact the user experience too
badly.</p>
<p>Except that there are occasions when it does and that impact could be
significant.</p>
<p>If a lot of data is downloaded from an external source, this will
take time. And while this maybe acceptable when the app first starts up,
you don’t really want a long pause in the middle of the user changing
something. And this is what the <code>@st.cache</code> decorator is all
about.</p>
<p>Marking a function in this way tells Streamlit to cache any resulting
data and stops the function being called again unless the parameters
passed to it have changed. Instead the cached data is returned to the
caller.</p>
<p>In our functions there are no parameters and so the the functions
will only ever be called once. This is exactly what we want as the data
is not going to change and so it will only be fetched the first time the
functions are called and, thereafter, the cached data will be used.</p>
<p>The dataframes all look something like this:</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/co2-table-countries.png" /></p>
<p>They contain columns for the - <em>Entity</em>: country, continent,
income group or ‘World’ - <em>Code</em>: the ISO country code (if it is
a country) - <em>Year</em> - <em>Annual CO2 Emissions</em>: from burning
fossil fuel and industrial processes - <em>Annual CO2 Emissions
including land-use change</em>: the sum of the previous column and next
one - <em>Annual CO2 Emissions from land-use change</em></p>
<p>We’ll be using the first four columns in each table to show the
emissions over time for each of the entity-types.</p>
<p>Our first focus will be the World. We’ll show the how emissions have
changed in all countries of the world on a map. The user will select a
year and the countries will be shaded according to the level of their
emissions.</p>
<p>This is where we come across our first Streamlit UI component. We
will use a slider to allow the user to select a year.</p>
<h2 id="sliders">Sliders</h2>
<p>Sliders are very easy to use:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> st.slider(<span class="st">&#39;Select year&#39;</span>,<span class="dv">1850</span>,<span class="dv">2020</span>)</span></code></pre></div>
<p>The <code>st.slider</code> method requires three parameters, a prompt
string and two numerical limits. The return value is a value between the
limits corresonding to the position of the slider. In the image below
the range is between 1850 and 2020 and the return value will be
1978.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/slider.png" /></p>
<p>Remember that when a UI control changes, the whole of the app is
re-run. Only when the slider is moved will the return value be
updated.</p>
<p>A fourth parameter can be given to set a default value for the
slider, e.g.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> st.slider(<span class="st">&#39;Select year&#39;</span>,<span class="dv">1850</span>,<span class="dv">2020</span>,<span class="dv">1950</span>)</span></code></pre></div>
<p>We are going to use the year value in a Plotly choropleth which will
give us a figure like this one, below.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/choropleth.png" /></p>
<p>Here is the code. There is nothing particularly difficult in creating
the choropleth. Plotly does all the hard work for you, we just have to
provide the appropriate values.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">max</span> <span class="op">=</span> df_countries[<span class="st">&#39;Annual CO₂ emissions&#39;</span>].<span class="bu">max</span>()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>year <span class="op">=</span> st.slider(<span class="st">&#39;Select year&#39;</span>,<span class="dv">1850</span>,<span class="dv">2020</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>fig1 <span class="op">=</span> px.choropleth(df_countries[df_countries[<span class="st">&#39;Year&#39;</span>]<span class="op">==</span>year], locations<span class="op">=</span><span class="st">&quot;Code&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                    color<span class="op">=</span><span class="st">&quot;Annual CO₂ emissions&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                    hover_name<span class="op">=</span><span class="st">&quot;Entity&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                    range_color<span class="op">=</span>(<span class="dv">0</span>,<span class="bu">max</span>),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                    color_continuous_scale<span class="op">=</span>px.colors.sequential.Blues)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>st.plotly_chart(fig1)</span></code></pre></div>
<p>In the code we have used the value of <code>year</code> to filter the
dataframe and that is the data that the choropleth will use. We have
also calculated the maximum value of CO2 emissions in tha table and this
is used to set the range of colours that will be used on the map. In
addition to the data, the other parameters are:</p>
<ul>
<li><code>locations</code>: the ISO codes that will be used to identify
areas on the map</li>
<li><code>color</code>: the value that wil be used to set the
colour</li>
<li><code>hover_name</code>: the string that will be shown when hovering
over the map, i.e. the country name</li>
<li><code>range_color</code>: the range of values that will be mapped
onto the colours</li>
<li><code>color_continuous_scale</code>: the list of colours that will
be used (in this case a range of continuous blues provided in Plotly
Express)</li>
</ul>
<p>The detail of this figure is a little difficult to see but if you use
the expander control (which expands the image to fullscreen) and/or the
zoom facility individual countries can be easily seen.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/choropleth-full-screen.png" /></p>
<p>Sliders can also be used for categorical values and these also
support a range. For example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>start_month, end_month <span class="op">=</span> st.select_slider(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;Select a range of months&#39;</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    options<span class="op">=</span>[<span class="st">&#39;Jan&#39;</span>, <span class="st">&#39;Feb&#39;</span>, <span class="st">&#39;Mar&#39;</span>, <span class="st">&#39;Apr&#39;</span>, <span class="st">&#39;May&#39;</span>, <span class="st">&#39;Jun&#39;</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">&#39;Jul&#39;</span>, <span class="st">&#39;Aug&#39;</span>, <span class="st">&#39;Sep&#39;</span>, <span class="st">&#39;Oct&#39;</span>, <span class="st">&#39;Nov&#39;</span>, <span class="st">&#39;Dec&#39;</span>],</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    value<span class="op">=</span>(<span class="st">&#39;Jan&#39;</span>, <span class="st">&#39;Dec&#39;</span>))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>st.write(<span class="st">&#39;You selected months between&#39;</span>, start_month, <span class="st">&#39;and&#39;</span>, end_month)</span></code></pre></div>
<p>This lets the user select the beginning and end of a list of months
with the default result being ‘Jan’ and ‘Dec’. Here is the result:</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/select_slider.png" /></p>
<h2 id="select-boxes">Select boxes</h2>
<p>Streamlit provides two <em>selectbox</em> methods: one for selecting
a single item and another for selecting multiple items.</p>
<p>Below is an example of the single <em>selectbox</em>. It let’s you
select a continent and shows the CO2 emissions for that continent as a
line graph. First, we need to create a list of continents and store that
in <code>continents</code> then we see the <em>selectbox</em> which will
let the user choose a continent. Using that value we filter the
dataframe and plot a line chart with Plotly.</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>continents <span class="op">=</span> df_continents[<span class="st">&#39;Entity&#39;</span>].unique()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>selected_continent <span class="op">=</span> st.selectbox(<span class="st">&#39;Select country or group&#39;</span>,continents)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_continents[df_continents[<span class="st">&#39;Entity&#39;</span>] <span class="op">==</span> selected_continent]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>fig2 <span class="op">=</span> px.line(df,<span class="st">&quot;Year&quot;</span>,<span class="st">&quot;Annual CO₂ emissions&quot;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>st.plotly_chart(fig2, use_container_width<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>The result looks like this.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/single_select_box_continents.png" /></p>
<p>Clicking in the field that displays the continent will bring down a
menu from which other values can be selected.</p>
<p>If we want to run something similar but where we can compare
countries then the <em>muliple selectbox</em> is what we need.</p>
<p>Here is a similar function that uses <code>st.multiselect()</code>.
This lets the user select from a drop-down menu in a similar way but
once selected the value is kept in a list which is displayed in box
above the menu. To remove an item from the list you click <em>x</em> for
that item and it will reappear in the menu.</p>
<p>The code is very similar to the previous function except that instead
of filtering the dataframe on a single value, we use the
<code>isin()</code> method to check if the continent name is in the
selected list. I’ve also restricted the number of years so that the
figure is more readable.</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>continents <span class="op">=</span> df_continents[<span class="st">&#39;Entity&#39;</span>].unique()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>selected_continents <span class="op">=</span> st.multiselect(<span class="st">&#39;Select country or group&#39;</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                                      continents, continents)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_continents[df_continents[<span class="st">&#39;Year&#39;</span>] <span class="op">&gt;=</span> <span class="dv">2010</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df_continents[<span class="st">&#39;Entity&#39;</span>].isin(selected_continents)]</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.bar(df,<span class="st">&quot;Year&quot;</span>,<span class="st">&quot;Annual CO₂ emissions&quot;</span>,color<span class="op">=</span><span class="st">&quot;Entity&quot;</span>, barmode<span class="op">=</span><span class="st">&#39;group&#39;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>st.plotly_chart(fig, use_container_width<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
<p>Here is the result with five continents selected.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/multiple_select_box_continents.png" /></p>
<h2 id="radio-buttons">Radio buttons</h2>
<p>The next UI component that we will look at is one that implemements
radio buttons.</p>
<p>The code should look familiar, first a propmpt and then a list of
items that can be selected. Following this is a set of <code>if</code>
statements that test the value of <code>chart</code> and display the
correct chart from the ones that we created earlier.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>chart <span class="op">=</span> st.radio(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Select the chart that you would like to display&quot;</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    (<span class="st">&#39;World Map&#39;</span>, <span class="st">&#39;Continent Emissions&#39;</span>, <span class="st">&#39;Comparing continents&#39;</span>))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;World Map&#39;</span>: </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    st.plotly_chart(fig1)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;Continent Emissions&#39;</span>: </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    st.plotly_chart(fig2)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;Comparing continents&#39;</span>: </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    st.plotly_chart(fig3)</span></code></pre></div>
<p>The result looks like this.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/radio_button_example.png" /></p>
<h2 id="layout">Layout</h2>
<p>There are several other UI components that Streamlit provides but
we’ll leave it at that for now because in order to construct an
effective app, we need to know how to layout the components that we have
seen so far.</p>
<h3 id="object-notation-or-with">Object notation or
<code>with:</code></h3>
<p>Layout components can be programmed using object notation or with the
<code>with:</code> keyword. Here is a piece of fictional code that shows
the difference.</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Object notation</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>layoutcomponent1.write(<span class="st">&#39;This will be written inside component 1&#39;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>layoutcomponent1.write(<span class="st">&#39;This will also be written inside component 1&#39;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># &#39;with&#39; notation</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> layoutcomponent2:</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">&#39;This will be written inside component 2&#39;</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    st.write(<span class="st">&#39;This will also be written inside component 2&#39;</span>)</span></code></pre></div>
<p>Both of these examples work in the same way and produce the same
results. Using <code>with:</code> lets you group the operations on the
layout component together, whereas object notation gives you the freedom
to scatter those operation throughout the code. It’s entirely up to you
to decide which to use but I tend to go for the <code>with:</code>
option where possible - I think it is more rational to keep the code
together in a block, if you can.</p>
<h2 id="sidebar">Sidebar</h2>
<p>One of the first layout components that featured in Streamlit was the
sidebar. This allowed you to group user input controls in an area to the
side of the screen and display the rest of the app in the main
window.</p>
<p>Here is a simple illustration of how it can be used. The sidebar
contains three radio buttons that let you select one of three images to
be displayed in the main window. (Note that for simplicity, these are
static images of charts we created earlier. You could, of course, put
any code in the <code>if</code> blocks, including the code that we
previously used to create the interactive charts.)</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> streamlit <span class="im">as</span> st</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The title will be displayed at the top of the main window</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>st.title(<span class="st">&#39;Demonstration of the sidebar&#39;</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Everything in the &#39;with&#39; block will be in the sidebar</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> st.sidebar:</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    st.header(<span class="st">&#39;Select an image to be displayed&#39;</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    chart <span class="op">=</span> st.radio(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Select the image that you would like to display&quot;</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    (<span class="st">&#39;World Map&#39;</span>, <span class="st">&#39;Continent Emissions&#39;</span>, <span class="st">&#39;Comparing continents&#39;</span>))</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># The following is outside of the &#39;with&#39; block and so will </span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># execute in the main window</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;World Map&#39;</span>: </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    st.image(<span class="st">&#39;../images/choropleth.png&#39;</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;Continent Emissions&#39;</span>: </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    st.image(<span class="st">&#39;../images/single_select_box_continents.png&#39;</span>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> chart <span class="op">==</span> <span class="st">&#39;Comparing continents&#39;</span>: </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    st.image(<span class="st">&#39;../images/multiple_select_box_continents.png&#39;</span>)</span></code></pre></div>
<p>And this is what it looks like.</p>
<p><img
src="https://github.com/alanjones2/streamlitfromscratch/raw/main/images/sidebar_example.png" /></p>
<p>As you can see this is a very conventional layout - simple and
effective. Note that the sidebar can be closed with the <em>x</em> in
the top right corner. It can, of course be re-opened.</p>
<h2 id="columns">Columns</h2>
<hr />
<h3 id="notes">Notes</h3>
<p>[1] <a href="https://ourworldindata.org/">Our World in Data</a> is a
treasure trove of information whose mission is to publish <em>“research
and data to make progress against the world’s largest problems”</em>.
All of their work is made available under the <a
href="https://creativecommons.org/licenses/by/4.0/">Creative Commons BY
license</a>.</p>
